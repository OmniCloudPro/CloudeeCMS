<div>
    <div mat-dialog-content>
        <h1 mat-dialog-title>Edit User {{id}}</h1>
        <div class="loader" *ngIf="loading">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div>
        <div class="isErrorBox" *ngIf="errorMessage">
            {{errorMessage}}
        </div>
        <div *ngIf="userLoaded && !loading">
            <br>
            <div class="row">
                <div class="col-md-12">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="E-Mail" [(ngModel)]="usr.email" disabled>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="Lastname" [(ngModel)]="usr.family_name">
                    </mat-form-field>
                </div>
                <div class="col-md-6">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="Firstname" [(ngModel)]="usr.given_name">
                    </mat-form-field>
                </div>
            </div>
            <br>
            <div class="label">Groups:</div>
            <ul class="grouplist">
                <li class="add" title="Add group..">
                    <mat-icon matSuffix (click)="btnAddGroup()">add_circle_outline</mat-icon>
                </li>
                <li *ngFor="let g of usr.groups">{{g}}
                    <mat-icon matSuffix (click)="btnRemoveGroup(g)">highlight_off</mat-icon>
                </li>
                <div style="clear:both;"></div>
            </ul>
        </div>
        <br />
        <br />

    </div>
    <div mat-dialog-actions>
        <button mat-stroked-button (click)="btnSave()" [disabled]="loading">Save</button>
        <button mat-stroked-button (click)="btnToggleStatus()" [disabled]="loading"
            *ngIf="userLoaded">{{usr.Enabled?'Disable user':'Enable User'}}</button>
        <button mat-stroked-button (click)="btnDelete()" [disabled]="loading"
            *ngIf="userLoaded && !usr.Enabled">Delete</button>
        <button mat-button (click)="btnClose()">Cancel</button>
    </div>
</div>